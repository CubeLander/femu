FROM ubuntu:24.04

ENV DEBIAN_FRONTEND=noninteractive

ARG HTTP_PROXY
ARG HTTPS_PROXY
ARG ALL_PROXY
ARG NO_PROXY
ARG http_proxy
ARG https_proxy
ARG all_proxy
ARG no_proxy

RUN apt-get update && apt-get install -y --no-install-recommends \
  bash ca-certificates git curl wget xz-utils file rsync \
  build-essential g++ make cmake ninja-build pkg-config \
  python3 python3-pip python3-venv \
  bc bison flex gawk texinfo cpio fakeroot \
  libssl-dev libelf-dev libncurses-dev libncursesw5-dev \
  libgmp-dev libmpfr-dev libmpc-dev libisl-dev zlib1g-dev libexpat1-dev \
  device-tree-compiler u-boot-tools qemu-system-misc \
  gcc-riscv64-linux-gnu g++-riscv64-linux-gnu \
  binutils-riscv64-linux-gnu libc6-dev-riscv64-cross \
  && rm -rf /var/lib/apt/lists/*

WORKDIR /workspace

ENV ARCH=riscv
ENV CROSS_COMPILE=riscv64-linux-gnu-

CMD ["/bin/bash"]
